var i=1,$mapimg=$("#map-img"),$mapcanvas=$("#map-canvas"),canvas=document.getElementById("map-canvas"),ctx=canvas.getContext("2d"),coordinates_json={};$mapcanvas.click(function(o){var a=$(this).position().left,n=$(this).position().top,a=o.pageX-a,n=o.pageY-n;coordinates_json[i.toString()]={x_coordinate:Math.round(a),y_coordinate:Math.round(n)},console.log(i.toString()+" "+coordinates_json[i.toString()].x_coordinate+" "+coordinates_json[i.toString()].y_coordinate),i+=1});